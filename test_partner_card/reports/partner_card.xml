<odoo>
    <data>
        <!-- Document Template -->
        <template id="test_partner_card.customer_card_document" name="Template Name">
            <!-- prepare header footer standard -->
            <t t-call="web.external_layout">
                <!-- Prepare language -->
                <!-- <t t-set="doc" t-value="doc.with_context({'lang': lang})"/> -->
                <!-- Class page bawaan dari odoo -->
                <div class="page">
                    <!-- Mitra Name -->
                    <h2>
                        Name: <span t-field="doc.name"/>
                    </h2>
                    <img t-att-src="'data:image/png;base64,' + doc.image_1920.decode('utf-8')" style="width: 100px; height: auto; border: 2px solid #000; border-radius: 5px;" />
                    <!-- Ruang Table Information -->
                    <div class="row mt32 mb32">
                        <table class="table table-bordered">
                            <!-- Header Table -->
                            <thead>
                                <tr>
                                    <th>Address</th>
                                    <th>Email/Website</th>
                                    <th>Phone/Notes</th>
                                </tr>
                            </thead>
                            <!-- Body Table -->
                            <tbody>
                                <tr>
                                    <!-- Show address -->
                                    <td>
                                        <span t-field="doc.street"></span><br/>
                                        <span t-field="doc.street2"></span><br/>
                                        <span t-field="doc.city"></span><br/>
                                        <span t-field="doc.state_id.name"></span><br/>
                                        <span t-field="doc.zip"></span><br/>
                                        <span t-field="doc.country_id.name"></span><br/>
                                    </td>
                                    <!-- Show Email -->
                                    <td>
                                        <span t-field="doc.email"></span><br/>
                                        <span t-field="doc.website"></span><br/>
                                    </td>
                                    <!-- Show Phone Number -->
                                    <td>
                                        <span t-field="doc.phone"></span><br/>
                                        Notes: <span t-field="doc.comment"></span><br/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>                    
                    </div>
                    <!-- Related Contacts -->
                    <div>
                        <h3>Related Contact</h3>
                    </div>
                    <div class="row mt32">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc.child_ids" t-as="child">
                                    <tr>
                                        <td><span t-field="child.name"></span></td>
                                        <td><span t-field="child.email"></span></td>
                                        <td><span t-field="child.phone"></span></td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                    <!-- Bank Account -->
                    <div class="row mt32">
                        <h3>Bank Accounts</h3>
                    </div>
                    <div class="row mt32">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Bank</th>
                                    <th>Account Number</th>
                                    <th>Account Holder</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc.bank_account_ids" t-as="account">
                                    <tr>
                                        <td><span t-field="account.bank_id.name"></span></td>
                                        <td><span t-field="account.acc_number"></span></td>
                                        <td><span t-field="account.partner_id.name"></span></td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                    <!-- Invoice -->
                    <div class="row mt32">
                        <h3>Invoices</h3>
                    </div>
                    <div class="row mt32">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Number</th>
                                    <th>Data</th>
                                    <th>Total</th>
                                    <th>Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc.invoice_ids" t-as="inv">
                                    <tr>
                                        <td><span t-field="inv.name"/></td>
                                        <td><span t-field="inv.invoice_date"/></td>
                                        <td><span t-field="inv.amount_total_signed"/></td>
                                        <td><span t-field="inv.amount_residual_signed"/></td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>
            </t>
        </template>

        <!-- Main Qweb -->
        <template id="test_partner_card.customer_card" name="Template Name">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-set="lang" t-value="doc.create_uid.lang"/>
                    <t t-call="test_partner_card.customer_card_document">
                        <t t-set="doc" t-value="doc"/>
                    </t>
                </t>
            </t>
        </template>

        <!-- model.name action window -->
        <record id="action_customer_card" model="ir.actions.report">
            <field name="name">Customer Card</field>
            <field name="model">res.partner</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">test_partner_card.customer_card</field>
            <field name="report_file">test_partner_card.customer_card</field>
            <field name="print_report_name">object.name</field>
            <field name="binding_model_id" ref="base.model_res_partner"></field>
            <field name="binding_type">report</field>
        </record>
    </data>
</odoo>
